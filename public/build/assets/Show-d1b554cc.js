import{W as F,r as T,j as t,a as e,n as O}from"./app-343a820e.js";import{A as P}from"./AuthenticatedLayout-797437c3.js";import{P as B}from"./Pagination-8362fc0e.js";import"./ApplicationLogo-2944ff99.js";import"./transition-2c3d7764.js";function M(w){const{matchStatistics:b}=F().props,[N,j]=T.useState([]);let k="",u="",_=0,z=0,S="";T.useEffect(()=>{b&&j(b.data)},[b]);const o=N.reduce((a,{team:r,player:s,game:d,fga:l,fgm:i,fg3a:n,fg3m:p,fta:h,ftm:m,pts:y,min:x,reb:g,ast:f})=>(a[r.id]||(a[r.id]={name:r.full_name,habitat:r.id===d.home_team_id?"home":"away",score:r.id===d.home_team_id?d.home_team_score:d.visitor_team_score,match_date:new Date(d.date).toLocaleDateString(),players:[],total:{fga:0,fgm:0,fg3a:0,fg3m:0,fta:0,ftm:0,pts:0,min:0,reb:0,ast:0}}),a[r.id].players.push({...s,fga:l,fgm:i,fg3a:n,fg3m:p,fta:h,ftm:m,pts:y,min:x,reb:g,ast:f}),a[r.id].total.fga+=l,a[r.id].total.fgm+=i,a[r.id].total.fg3a+=n,a[r.id].total.fg3m+=p,a[r.id].total.fta+=h,a[r.id].total.ftm+=m,a[r.id].total.pts+=y,a[r.id].total.min+=x,a[r.id].total.reb+=g,a[r.id].total.ast+=f,a),{});console.log(o);const c=Object.values(o).find(a=>a.habitat==="home"),v=Object.values(o).find(a=>a.habitat==="away");return typeof c<"u"&&typeof v<"u"&&(k=c.name,u=v.name,_=c.score,z=v.score,S=c.match_date),t(P,{auth:w.auth,errors:w.errors,header:t("div",{className:"justify-center items-center grid grid-rows-3",children:[e("h2",{className:"font-semibold text-xl text-gray-800 leading-tight dark:text-gray-200 text-center",children:"Mérkőzés részletei"}),e("div",{className:" text-gray-500 dark:text-gray-300 text-center m-1",children:S}),t("div",{className:" text-gray-500 dark:text-gray-300 text-center m-1",children:[k," ",_," - ",z," ",u]})]}),children:[e(O,{title:`${k} - ${u}`}),e("div",{className:"py-12",children:e("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg dark:bg-slate-700",children:e("div",{className:"py-6",children:e("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:Object.values(o).map(({name:a,players:r,total:s})=>t("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg mb-6",children:[e("h2",{className:"font-bold p-3 dark:text-gray-300",children:a}),t("table",{className:"w-full text-sm text-left text-gray-500 dark:text-gray-400 p-2 bg:text-gray-400",children:[e("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:t("tr",{children:[e("th",{scope:"col",className:"px-6 py-3",children:"Név"}),e("th",{scope:"col",className:"px-6 py-3",children:"Játékpercek"}),e("th",{scope:"col",className:"px-6 py-3",children:"Dobóhatékonyság"}),e("th",{scope:"col",className:"px-6 py-3",children:"Triplák"}),e("th",{scope:"col",className:"px-6 py-3",children:"Büntetők"}),e("th",{scope:"col",className:"px-6 py-3",children:"Lepattanók"}),e("th",{scope:"col",className:"px-6 py-3",children:"Asszisztok"}),e("th",{scope:"col",className:"px-6 py-3",children:"Pontok"})]})}),t("tbody",{children:[r.filter(({min:d})=>parseInt(d)>0).sort((d,l)=>l.pts-d.pts).map(({id:d,first_name:l,last_name:i,fga:n,fgm:p,fg3a:h,fg3m:m,fta:y,ftm:x,pts:g,reb:f,ast:A,min:D})=>t("tr",{className:"bg-white border-b dark:bg-gray-600 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600",children:[t("th",{scope:"row",className:"px-6 py-4",children:[l,"  ",i]}),e("td",{className:"px-6 py-4",children:parseInt(D)}),t("td",{className:"px-6 py-4",children:[p," - ",n]}),t("td",{className:"px-6 py-4",children:[m," - ",h]}),t("td",{className:"px-6 py-4",children:[x," - ",y]}),e("td",{className:"px-6 py-4",children:f}),e("td",{className:"px-6 py-4",children:A}),e("td",{className:"px-6 py-4",children:g})]},d)),t("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:[e("th",{scope:"row",className:"px-6 py-4",children:"Összesen"}),e("td",{className:"px-6 py-4 font-bold"}),t("td",{className:"px-6 py-4 font-bold",children:[s.fgm," - ",s.fga]}),t("td",{className:"px-6 py-4 font-bold",children:[s.fg3m," - ",s.fg3a]}),t("td",{className:"px-6 py-4 font-bold",children:[s.ftm," - ",s.fta]}),e("td",{className:"px-6 py-4 font-bold",children:s.reb}),e("td",{className:"px-6 py-4 font-bold",children:s.ast}),e("td",{className:"px-6 py-4 font-bold",children:s.pts})]}),t("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:[e("th",{scope:"row",className:"px-6 py-4",children:"Átlag"}),e("td",{className:"px-6 py-4 font-bold"}),t("td",{className:"px-6 py-4 font-bold",children:[(s.fgm/s.fga*100).toFixed(1),"%"]}),t("td",{className:"px-6 py-4 font-bold",children:[(s.fg3m/s.fg3a*100).toFixed(1),"%"]}),t("td",{className:"px-6 py-4 font-bold",children:[(s.ftm/s.fta*100).toFixed(1),"%"]}),e("td",{}),e("td",{}),e("td",{})]}),N.length===0&&e("tr",{children:e("td",{className:"px-6 py-4 border-t",colSpan:"4",children:"Az általad keresett mérkőzéshez nem találtunk részleteket."})})]})]}),e(B,{links:N.links})]},a))})})})})})]})}export{M as default};
